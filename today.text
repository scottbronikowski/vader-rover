***POSSIBLE COURSES FOR SPRING 2015***
ECE 637 - Digital Image Processing I (CS area)
ECE 645 - Estimation Theory (CS area)
ECE 647 - Advanced Topics in Communication Networks (CE&CS areas)
ECE 666 - Parallel Computer Architecture (CE area)


Paper deadlines:
TePRA-15: 11-12 May 2015 in Boston
	  15 November 2014: Paper submission deadline
	  15 January 2015: Paper acceptance notification
	  1 March 2015: Final submission deadline
IJCAI-15: 25 July-1 August 2015, Buenos Aires, Argentina 
    	  Feb 1, 2015 (11:59PM, UTC-12): Abstract submission
    	  Feb 5, 2015 (11:59PM, UTC-12): Paper submission
    	  March 10-16, 2015 (11:59PM, UTC-12): Author feedback
    	  April 9, 2015: Notification of acceptance/rejection
    	  May 2, 2015: Camera-ready copy due
IROS-15: September 28 - October 02, 2015, Hamburg, Germany
	 Mar. 6, 2015: Submission of full-length papers 
      	 Jun. 17, 2015: Notiﬁcation of acceptance for papers 
      	 Jul. 24, 2015: Submission of ﬁnal papers 

**Keep an eye on Journal of Intelligent and Robotic Systems (JINT) http://www.springer.com/engineering/robotics/journal/10846  **when are its deadlines??


Random notes:
------------------
(define duplicates (removeq #f (map-indexed (lambda (line i) (if (> (length (removeq #f (map-indexed (lambda (other j) (and (equal? other line) (not (equal? i j)))) symtable))) 0) line #f)) symtable)))

nm -ACgl <library file> to see symbol table and look for name clashes

objdump -p <executable> to see library load order

(load "/home/dpbarret/darpa-collaboration/pose-retraining/olympic-sports-setup.sc")
(annotate-event 8 42)
video GuabYFuZmQw_00967_01667 is actually a snatch, not a clean and jerk
video ivQERlvxQrs_03683_03946 is not a full clean and jerk (starts with the weight off the floor, half-way up to the clean position)
video HMU4DyQB5C4_00803_01368 shows a double clean and jerk (two lifters on the bar)

commands:
from ~/darpa-collaboration/ideas/x86_64-Linux-3.2.0-4-amd64$ darpa-wrap make dsci -j6


Buffers
---------------------------------------
. * *shell*<2>            6969  Shell:run	  ~/vader-rover/
    today.text          103769  Text		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/today.text
    toollib-analysis.sc  15442  Scheme		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/toollib-analysis.sc
  * *scheme*            186091  Inferior Scheme:
    matrix-scores-using: 12605  Text		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/matrix-scores-using-distance-factor-11sep14.txt

---old---
.   today.text           97252  Text		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/today.text
  * *shell*              50101  Shell:run	  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/
  * *scheme*            753892  Inferior Scheme:
    toollib-analysis.sc  13984  Scheme		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/toollib-analysis.sc
    matrix-with-distance: 7641  Text		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/matrix-with-distance-output.txt
    hw2.tex                901  LaTeX		  ~/Dropbox/grad school stuff/Purdue/2014-2015-1-fall/ECE661/hw2/hw2.tex
  * *shell*<2>          704216  Shell:run	  ~/Dropbox/grad school stuff/Purdue/2014-2015-1-fall/ECE661/hw2/
    sentence-generation: 12777  Scheme		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/ideas/sentence-generation.sc
    idealib-tracks.sc   222794  Scheme		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/ideas/idealib-tracks.sc
  * *shell*<3>           25691  Shell:run	  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/ideas/x86_64-Linux-3.2.0-4-amd64/
    seasoned-schemer.sc  32124  Scheme		  /amd/upplysingaoflun/root/aux/home/sbroniko/scheme_stuff/seasoned-schemer.sc
    data-analysis.cpp    16283  C++/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/data-analysis.cpp
    data-analysis.h       1640  C++/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/data-analysis.h
    log_to_track.cpp     13674  C++/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/from_dan/log_to_track.cpp
    sentences.txt           81  Text		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/data/test-2014-07-31/sentences.txt
    setup.txt              148  Text		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/data/test-2014-07-31/setup.txt
    hmm-def.h             4523  C++/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/ideas/hmm-def.h
    hmm-def.c            11705  C/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/ideas/hmm-def.c
    fields.sc             1278  Scheme		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/fields.sc
    toollib-hog-c.c      32464  C/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/ideas/toollib-hog-c.c
    toollib-hog-c.h       5335  C++/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/ideas/toollib-hog-c.h
    toollib-rover-cpp.h   5227  C++/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/toollib-rover-cpp.h

---old---
.   today.text           78421  Text		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/today.text
    data-analysis.cpp     9060  C++/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/data/test-2014-07-31/data-analysis.cpp
    toollib-hog-c.c      32464  C/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/ideas/toollib-hog-c.c
    hmm-def.c            11705  C/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/ideas/hmm-def.c
    hmm-def.h             4523  C++/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/ideas/hmm-def.h
    fields.sc             1278  Scheme		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/fields.sc
    toollib-hog-c.h       5335  C++/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/ideas/toollib-hog-c.h
    log_to_track.cpp     13554  C++/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/from_dan/log_to_track.cpp
  * *shell*<3>         1017394  Shell:run	  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/data/test-2014-07-31/
  * *shell*              57906  Shell:run	  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/
  * *shell*<2>          214552  Shell:run	  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/ideas/x86_64-Linux-3.2.0-4-amd64/
    toollib-rover-cpp.h   5227  C++/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/toollib-rover-cpp.h

---old---
    toollib-rover-cpp.c: 40230  C++/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/toollib-rover-cpp.cpp
    toollib-rover-cpp.h   4874  C++/l		  ~/vader-rover/toollib-rover-cpp.h
    driver-gui.sc         2323  Scheme		  ~/vader-rover/driver-gui.sc
    toollib-rover.sc      2148  Scheme		  ~/vader-rover/toollib-rover.sc

----old----
    deadReckoning.c       6423  C/l		  ~/Downloads/MatrixPilot_4_0/libDCM/deadReckoning.c
    imu-calibration-17-ju: 548  Text		  ~/vader-rover/imu-calibration-17-jun-14.txt
    toollib-gamepad.sc     833  Scheme		  ~/vader-rover/toollib-gamepad.sc
    toollib-gamepad-c.c  11221  C/l		  ~/vader-rover/toollib-gamepad-c.c
    toollib-rover.sc      2148  Scheme		  ~/vader-rover/toollib-rover.sc
    commander-gui.sc      2321  Scheme		  ~/vader-rover/commander-gui.sc
    toollib-gamepad-c.h   1954  C++/l		  ~/vader-rover/toollib-gamepad-c.h
.   simple-gui.sc         5686  Scheme		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/simple-gui.sc
    vlad.sc              12997  Scheme		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/george/vlad/vlad.sc
    vladlib-c.c          90308  C/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/george/vlad/vladlib-c.c
    vladlib-cpp.cpp       3000  C++/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/george/vlad/vladlib-cpp.cpp
    vladlib-sc.sc         3172  Scheme		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/george/vlad/vladlib-sc.sc
    toollib-image-proc: 125308  Scheme		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/ideas/toollib-image-processing.sc
    vladlib-c.h          11671  C++/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/george/vlad/vladlib-c.h



Old Notes
----------
14 Mar 14
-- converted camera-server.c to cpp in order to use flycap libraries
-- copied flycap headers and so files from vader-ubuntu, but wouldn't work bc version of flycap was too new (GLIBC conflict)-->put these files in ~/vader-rover/OLD/
-- tried copying newer version of glibc (libc-2.15.so and ld-2.15.so) from vader-ubuntu, but this got really hairy really quick.  Then started on a full install of glibc-2.14.tar.gz into ~/vader-rover IOT use newer GLIBC, but abandoned this bc next bullet got working
-- installed flycapture2-2.3.3.18 from ~/darpa-collaboration/bin/build-point-grey.sh in order to avoid conflict with GLIBC version (we have 2.13, flycapture2-2.5+ needs 2.14)
-- created symlinks from ~/vader-rover to lib and include for flycapture
   include -> /home/sbroniko/darpa-collaboration/include/x86_64-Linux-3.2.0-4-amd64/flycapture/
    lib -> /home/sbroniko/darpa-collaboration/lib/x86_64-Linux-3.2.0-4-amd64/
--added 'export LD_LIBRARY_PATH=${HOME}/darpa-collaboration/lib/`architecture-path`/arv:${HOME}/lib/`architecture-path`/:$LD_LIBRARY_PATH:${MATLAB}/bin/glnx86/:${MATLAB}/bin/glnxa64:/usr/local/lib/:~/darpa-collaboration/lib/`architecture-path`/:/usr/local/cuda/lib64/:/usr/share/cuda-toolkit/lib64/' to .bashrc in order to find flycapture libraries at runtime
-- started on building struct and receiver function for raw PGR image...look at using Image() constructor in Image.h where I can pass all paramaters directly.

17 Mar 14
--First test of sending raw images across network successful, images saved via PGR methods into color PPM.  Getting ~1.2-1.3 frames/sec/cam.
--Need to look at using Imlib calls in order to get an Imlib image as a return value.

18 Mar 14
-- Modified camera-server.c to only get image metadata on first image...still need to put in break condition when sender stops sending.

19 Mar 14
-- Finished mod of camera-server.cpp to break out of forked receive process when no image data received--no significant speedup.
----
-- Miniz.c turned out to be slower than sending uncompressed data...looking for different library
-- Now trying 'snappy' from Google

20 Mar 14
-- ***Got framerate to ~8 f/s/c (close to rate at which cameras produce) by 1) changing save location to /aux vice /home, and 2) changing pano cam to 640x480 greyscale
-------
-- working on incorporating snappy compression, bug in ReceiveMetadataCompressed

2 Apr 14
-- Got OpenCV working for JPEG compression.  Can currently send compressed images across network (~15-30 kilobytes per image) and save them on seykhl at ~11.9-12.5 f/s/c as either .jpg or .png (file type doesn't seem to affect speed).

7 Apr 14
--Got QobiScheme to work with jpegs in OpenCV.  Removed references to jpeg* functions in original QobiScheme source files and compiled new QobiScheme-AD.a (./QobiScheme-nojpeg-working/source/x86_64-Linux-3.2.0-4-amd64/QobiScheme-AD.a).  Compiled into dsci and was able to read and write jpeg.

8 Apr 14
--Separated toollib-rover-cpp.cpp declarations/includes/etc into toollib-rover-cpp.h as much as possible.
--Built rover-server-test, rover-server-setup, rover-server-start, rover-server-grab functions into toolib-rover*.
--Have rover-server-setup working (initializes global variables used by rover-server-grab)
--First draft of rover-server-start complete.  Can call a single instance of rover-server-grab to listen and receive images on one port.  Put basic thread-safety guards into rover-server-grab.  Need to implement threading in rover-server-start IOT enable both ports to listen simultaneously.
--Also need to develop functions that are the consumers to rover-server-grab's producer.  Envision two functions, one that takes the image and displays it, and one that takes the image and saves it to a video.

9 Apr 14
--Modified rover_server_grab to be callable as a pthread.  Built struct CamGrab_t to hold variables going to rover_server_grab.  From rover_server_start, called rover_server_grab twice (once for each camera) and was able to receive data into separate arrays for each camera.  Now need to work on functions/threads that will use this data (display and save).
---------
--Started work on getting images to display in Scheme GUI.  Need to look at vlad code to see how to use xflush and pthread_barriers.

10 Apr 14
--Got still images into dsci viewer.  Need to work on binding 'test image get' function to a recurring keystroke a la http://www.doctort.org/adam/nerd-notes/x11-fake-keypress-event.html
--Worked out graceful exit and restart for threads so that viewer can be called again in scheme without quitting and restarting dsci.
--Fixed bug in Get_Image_from_ImgArray() that would cause a crash if called before there were images in ImgArray.  Now shows just a gray rectangle.  Could create a rectangle with text saying 'waiting on camera' or something like that.
--Fixed problem in rover-server-grab where I was forking a new process after the server accepted the connection.  Forking didn't allow for shared memory, so I got rid of the fork and did a loop with an exit flag check to replicate the functionality within a single thread.

11 Apr 14
--Have live video in viewer (changed name from 'dsci' to 'rover-viewer').  Image refresh is bound to ESC key, and I send an XEvent after each image received to refresh the window.  Originally had a problem with XEvents only going to the window that the mouse was pointing to, but solved that by designating window for XSendEvent by name.
--Enroute to live video, had several problems with crashes/hangs when the ESC key was held down (fast refresh).  Solved this issue by adding a lock around the integer that keeps track of which image is the most recent in the image receive buffer.
--Next step is to work on camera code on rover to 1) make it run in an infinite loop, 2) be callable from the command line in order to put a button into rover-viewer to start the cameras, and 3) handle a KILL/TERM/?? signal in order to exit gracefully from the infinite loop when signaled from 'stop cameras' button in rover-viewer.

14 Apr 14
--Cleaned up simple-gui.sc a bit.
------
--Added 'Start Cameras' button to simple-gui.sc.  Seems to work as long as only clicked once.  Thinking about putting the 'Start Cameras' function into the initialize/start of rover-viewer so that it only runs once.  Will need to put the signal handler that will shut it down (to be written) into the finalize of rover-viewer.

15 Apr 14
--Cleaned up extraneous printfs in toollib-rover-cpp.cpp.
--Added 'Stop Cameras' button that works with signal handler in run_cameras.cpp on rover using 'pkill run_cameras' sent over ssh.
-----------
--Able to drive rover without line of sight!
--Currently experiencing intermittent problem with USB failing and becoming disabled.  Error message is: 'hub 1-0:1.0: port 2 disabled by hub (EMI?), re-enabling...'  After error, only way I've found to re-enable USB is to reboot rover.  Researching possible solutions.  Will try attaching ferrite cores to USB cables.
--Also noticing a slight list to the left when the rover drives--seeing if adding a shim under the left center wheel will correct this. (first test appeared to make it worse, but will test again)
--When driving around the 3rd floor of EE, the rover sometimes loses connectivity for a few-to-tens-of seconds, presumably when changing APs on PAL.  Need to think of a way to monitor and correct for this (possibly stop when connectivity is lost until regained).  Maybe use wlan0 (built-in wlan) for control and wlan1 (USB wlan) for image streaming...but how would I split up those services to different adapters?

16 Apr 14
--Tested remote driving of rover using 4G modem.  Framerate was reasonable (~8.5 f/s/c), but latency was a problem.  Long delay between when action happened and when image was received, which didn't seem to happen when using wifi.  Also a delay between when command was issued via GUI and when it was executed.  Not sure what can be done to fix this--might the problem go away with better 4G reception (i.e., outdoors)?  Image delay might be helped by reconfiguring image streaming code to use RTP over UDP, instead of the TCP it currently uses.  Don't have any ideas yet on how to improve commands flowing the other direction (currently using ssh to send a command to run an executable that talks to the motors).
--Attempted to test built-in wifi (802.11g only) for remote driving.  Framerate was better than 4G but not as good as USB wifi (got ~10-11 f/s/c from built-in wifi).  Latency didn't seem to be a problem, but the problem of the USB port failing happened much more quickly when USB hub was plugged into main USB host port.  This happened twice in a row, but the third time I was able to get it driving and make a successful loop of EE313.  Also tried with hub plugged into USB OTG port and found the same problem as previously--get an error message stating (musb_host_rx 1625: Rx interrupt with no errors or packet!) and the capture program freezes until killed.  Pretty sure the USB OTG port is useless.
--Compressed previous backup of SD card in /aux/sbroniko/backup (from 2014-02-03) and initiated new backup prior to changing over to backup gumstix.

17 Apr 14
--Completed and compressed backup of SD card in /aux/sbroniko/backup/sd-backup-2014-04-16.tar.gz
--USB EMI issue seems to have gone away after switching out gumstix/daughterboard and USB cable between gumstix and hub.  Now looking if it's possible to improve how the rover handles moving between wifi APs.

18 Apr 14
--Started overnight test of cameras at 1720 on 17 April and cameras were still running when I came in at 0935 on 18 April.  I believe that we can consider the USB EMI issue solved.
--Received Logitech game controller.  Starting to work on getting it interfaced to seykhl.

21 Apr 14
--DC-to-DC converter on rover damaged while building test kit to measure current from battery--believe it happened when I accidentally reversed the polarity on the battery.  Converter would no longer put out 5V, regardless of the input voltage or the trim pot adjustment.  Spent the rest of the day hooking up the backup converter, this time with proper decoupling capacitors attached via perf-boards.  Seems to work well now.
--Completed creating wiring harness to go in between battery and main power connector to use for measuring current.
--Current readings:
	  5V bus only: 0.50A (steady state after boot complete)
	  5V and 12V on, stationary: initial spike to ~1.37A, then stabilizes at 0.60A
	  Tap bump switches (rover on stand): spikes between 1.6-3.6A, then stabilizes at 0.96A
	  Motors forward_1 (stationary on stand): ~1.38A
	  Motors forward_2 (stationary on stand): ~1.45A
	  Motors forward_3 (stationary on stand): ~1.56A
	  Motors forward_4 (stationary on stand): spikes between 1.8-4.6A, then stabilizes at 1.50A
--Will attempt to take mobile current readings and correct leftward pull while driving tomorrow--need assistance to do that, and by the time I had the power supply fixed this evening, nobody was around.

22 Apr 14
--Found seemingly useful driver/library for using gamepad at https://github.com/elanthis/gamepad.  It builds a shared library and also has a header to call functions that get the controller state.  Have skeleton of toollib-gamepad(.sc, -c.h, -c.c) integrated into dsci.

23 Apr 14
--Got initial functions of toollib-gamepad to work--start and stop cameras.  Discovered problem with sending commands via ssh--button presses send command more than once.  Decided to restructure rover-side code to have one master program (emperor) that listens for commands and then starts threads or calls functions as needed.

24 Apr 14
--Have control message-passing socket working between vader-rover and seykhl.  Vader-rover (emperor.cpp) 'calls home' to seyhkl on port 1999 to establish the socket, then vader listens.  On seyhkl, the port is created in toollib-gamepad.c (gamepad_update())--seyhkl spins waiting for vader-rover to connect, then once connected uses the port to send commands.  Have start and stop cameras working--next up is pan and tilt using right thumb stick.

25 Apr 14
--Got pan and tilt servos for front camera working from right thumbstick of gamepad.  Next up will be the motor commands on the left thumbstick.

28 Apr 14
Goal: Finish mapping driving commands to left thumb stick on game controller.  Implement software fix for leftward pull while driving.
--Have motor commands mapped to positions on left thumbstick in toollib-gamepad-c.c.
--Implemented command checker on seykhl side to prevent sending of duplicate commands to rover.  May need to remove similar checking code on rover side.

29 Apr 14
Goal: Integrate bump switch monitor code into emperor (probably separate thread).  Start work on driver code for shaft encoders and IMU.
--Tracked down slow pan/tilt execution to rover-side motor sending code; fixed.
--Completed and tested implementation of command parsing and sending to motors within emperor.cpp.  Removed extraneous printfs in both toollib-gamepad-c.c on seykhl and emperor.cpp on rover.
-------
--Fixed leftward pull while driving by slowing right motors.
--Rover is now fully controllable from game controller.
--Minor code cleanup in gamepad and rover

30 Apr 14
Goal: Research and prepare order for: extra batteries/chargers, speakers and microphones for bidirectional speech, longer plenum tubing needed for flipped bump switches.  Continue work on shaft encoder and IMU code.
--Built initial data logging infrastructure into dsci (toollib-rover-cpp.cpp, rover_server_log()).  Receives buffer of text sent from rover and saves it in a log file (named with UTC date/time when rover_server_setup() was called).  Have seykhl-side code working implemented and clean startup/shutdown.  Still need to finish code to send data from rover.

1 May 14
Goal: Continue work on shaft encoder and IMU code.
--Logging functional for pan/tilt, motor, and camera commands. Text files saved to ~/vader-rover/logs/.  GMT timestamps come from seykhl, while timestamps in seconds.microseconds come from rover (except for the final 'Logging completed' timestamp--has to come from seykhl b/c shutdown routine uses the socket closing from seykhl side as the notification to rover to stop logging.
--Bump switch monitor functions integrated into emperor.cpp (as separate thread) on rover.  Bump switch messages logged on seykhl.

2 May 14
Goal:Continue work on shaft encoder and IMU code.  Start looking at data logging/recording and time stamping methods.
--Researched and compiled parts order for batteries/chargers, plenum tubing, and speakers/microphone.
--Reversed mounting direction on all bump switches so that now their whiskers will cross at approximately the center line of the rover.  Need longer plenum tubing to make the whiskers reach to the outer edge of the tires.  Checked with machine shop and electronics shop in ECE, and neither had any tubing.
--Started researching methods of converting individual frames into a video using ffmpeg and/or opencv (while preserving timestamp data).  The opencv VideoWriter class looks promising.
--Minor code cleanup on toollib-rover and toollib-gamepad
--Started building functions to send frame capture timestamps (identical to the ones used for commands/bumps) from rover to seykhl on every frame, and then log those timestamps into a separate text file for each camera.  Now each run has a directory named with date and GMT time of starting, then 3 text files (log.txt, front.txt, pano.txt).  File creation and saving on seykhl complete, need to implement the sending of image timestamps on vader-rover and receiving and writing to file on seykhl.

5 May 14
Goal:  Implement sending of image timestamps on rover and receiving and writing to file on seykhl.
--Implemented receive/write of camera start and stop messages in toollib-rover-cpp.cpp (rover_server_grab(), just before and after main capture loop).
--Implemented receive/write of individual timestamps for images--getting odd results on last image timestamp, need to debug.
--Debugged errors in last message--have an exit condition in OpenCV_ReceiveFrame() that allowed that function to return when it received a 0 for image size.

6 May 14
Goal:  Work on saving received images into a video file on seykhl.
--Moved log saving directory and log files from /home/sbroniko/vader-rover/logs to /aux/sbroniko/vader-rover/logs.
----
--Fixed timestamp message length.  Commit prior to testing framerate.
----
--Traced problem with slow framerate to emperor_monitor_bump_switches thread: with thread created and cameras NOT running, CPU usage on rover is ~95% for emperor; without thread and cameras NOT running, CPU usage on rover is <1% for emperor.
--Fixed framerate issue--now getting 11-15 f/s/c (counted using timestamps in log file).
----
--Have video saving working with both cameras using OpenCV VideoWriter.  I have observed that the frame count of the videos as reported by ffmpeg is 1 frame more than the number of frame timestamps I have in my log files.  Need to investigate this to figure out where the error is.

7 May 14
Goal: Continue work on video saving.  Look at sending video to second (commander) workstation--my initial thought is to have the video stream go rover->seykhl (driver)->other ws (commander) in order to keep rover bandwidth usage at current level, but not sure if this will cause perceptible delay.
--Confirmed that framecount from video and number of timestamps are the same by numbering the timestamps in the file.  Apparently the error I though I had yesterday was actually from me miscounting the number of timestamps in the file.  
--Spent most of the day helping Dan with annotations.

8 May 14
Goal:  Continue work on video to second workstation.  Start work on drivers for shaft encoders and IMU.
--Spent all day working on video annotations.

9 May 14
Goal:  Continue work on shaft encoders and IMU.
--Spent all day working on video annotations.

12 May 14
Goal: Work on video annotations.
--Annotations all day.

13 May 14
Goal: Finish video annotations. Work on setting up commander viewer on second workstation--first try video stream going rover->seykhl (driver)->other ws (commander) in order to keep bandwidth usage at current level.  See if this setup causes perceptible delay.
--Annotations all day.

14 May 14
Goal: Finish commander viewer.  Work on setup and mounting of speakers and microphone on rover.  See machine shop if additional hardware needed.
--Annotations all day.

15 May 14
Goal: Start work on drivers for shaft encoders and IMU.
--Started work on running commander viewer on separate workstation.  Building tools into toollib-rover(.sc, -cpp.cpp, -cpp.h) with 'cdr_' prefix.  Will create separate commander-gui.sc to run the tools from.  Also ported simple-gui.sc to driver-gui.sc and cleaned up/fixed buttons.

16 May 14
Goal: Continue work on shaft encoders and IMU.
--Commander viewer is functional.  Tested in tandem with driver viewer (both side-by-side on seykhl via ssh into chino, and locally on the alykkyys desktop) and there does not appear to be any noticeable delay--we tested by putting a stopwatch in front of the camera and comparing the times in both windows, and the times matched.
--A current limitation of the commander viewer is that it needs to be running prior to starting the cameras on the rover, otherwise it will not connect when seykhl (the driver gui) looks for it.  I have implemented a button on the driver's GUI that shows whether or not the commander's display is connected (updates on camera start).  I might want to try to modify this button to allow for an attempt at connecting if disconnected, but not sure if this is necessary.
--Commander viewer originally had a problem with the 'Quit' button.  If operator hit 'Quit' button in commander viewer, the image stream would stop but the window would remain open until the cameras are stopped.  I changed that behavior with an int variable in C (read into a boolean in Scheme) that determines whether or not the commander viewer is active.  If the viewer is active, the quit button does nothing.  If the viewer is not active, the quit button closes the viewer window--in fact, the driver needs to completely exit his Scheme process before the commander's viewer can be closed.  This prevents the commander from accidentally or prematurely closing his window while the driver is still driving.

19 May 14
Goal: Start work on shaft encoder driver.
--Started by looking for existing code to read rotary encoders.  Found a couple of ARM-specific projects (running in user-space) that seem to do an adequate job of reading encoder position and counting ticks, but they use too much CPU (~50%) to work on the rover.  I tested these while running the cameras and observed noticeably slower frame rate and occasional freezes.  I am now researching ways to do interrupt handling (i.e., tick counting) in kernel-space to try to achieve lower CPU usage.  Another option (which I haven't researched yet) is to use one or two separate microcontrollers (with pulse accumulators) to count ticks and then have the Gumstix poll the microcontrollers at a reasonable interval for data.


20 May 14
Goal: Continue work on shaft encoder driver.
--All work done on rover.

21 May 14
Goal: Complete work on shaft encoder driver.  Start work on IMU driver.
--All work done on rover.

22 May 14
Goal: Continue work on IMU driver.
--All work done on rover.

23 May 14
Goal: Complete work on IMU driver.
--Ordered Teensy 3.1 microcontroller board (72 MHz ARM Cortex-M4, 256k flash, 64k RAM, 34 digital IO pins--all interruptable, USB interface to PC).  Not sure if it will be capable of running both encoders from one Teensy, so I ordered enough to put two Teensys on the rover, with spares.  There seems to be a fairly active dev community for the Teensy, with an already-existing Encoder library built for quadrature encoders (code appears to be all in C).  These boards were surprisingly cheap, <$20/board.
--Installed longer whiskers on bump switches.  Rear switches seem to be working fine.  Front switch whiskers sag down in front of the ultrasonic sensor, which will render that sensor useless.  I need to figure out a way to keep the whiskers clear of the sensor.  The first thing I tried was to mount an old whisker sticking out the front of the rover for the new whiskers to rest on (above the sensor's path), but that doesn't seem to work to well--the new whiskers don't move as freely as they need to.  One thought is to use a smoother material (metal?) for the whisker rest to reduce friction.  Another thought is to move the ultrasonic sensor to another location--possibly mounted on top of the pan/tilt camera.  That might prove more useful, giving a distance to whatever the camera is looking at rather than a distance from the front of the rover.

27 May 14
Goal:  Read up on Teensy development and ensure development environment is set up and ready for when board arrives.  Visit machine shop to start work on mounting hardware for speakers and mic.
--Discovered that all kernel module compilation work done on Friday needs to be undone--it destroyed my previous kernel modules and made the Gumstix unable to boot with the correct drivers.

28 May 14
Goal:  Start work on IMU code.
--Got basic rotary_encoder.ko module compiled on rover.
--Took rover down to machine shop for mic and speaker mounting.  Mic is mounted on rear left corner of rover, next to battery and DC-DC converter.  Speakers are mounted underneath, between front and middle wheels, angled outwards towards side of rover (angle is changeable due to hinges on back of speakers).
--Started reading up on Teensy (Arduino) development environment.

29 May 14
Goal:  Continue work on IMU code.
--Got Arduino/Teensyduino IDE installed on Ubuntu laptop and seykhl.  Arduino IDE does not require installation, it just runs via an executable script extracted with the download, and Teensyduino just installs helper files in the extracted directory.  Created an alias in my .bashrc to call that script.  Just need udev rules added by root to access boards via USB.

30 May 14
Goal:  Complete and test IMU code.
--All work done on rover.

2 Jun 14
Goal:  Continue work on IMU. Decide on what data I want to get from the IMU, and in what format.  
--Teensy boards on hand.
--Working on calibrating IMU and modifying AHRS code for IMU to report only info that is relevant to what I'm doing.


3 Jun 14
Goal:  Continue work on IMU.  Integrate IMU data request/reply and sending to seykhl over network into emperor code on rover.
--IMU calibration on rover (mag: output.txt, others in today.text on rover).


4 Jun 14
Goal:  Complete work on IMU.
--Revised IMU magnetometer calibration on rover (output2.txt).  Determined that IMU needs to be mounted higher off the rover's deck in order to minimize magnetic interference.

5 Jun 14
Goal:  Start work on Teensy as wheel encoder controller.
--New calibration in output3.txt


6 Jun 14
Goal:  Continue work on Teensy.
--Spent about an hour and a half trying to figure out compass offset without success.  Tried in several different locations (on floor in office, on floor in hallway, further down the hallway) and got useless results--the same magnetic heading, as measured by my lensatic compass, gave different headings from the IMU when measured multiple times.  I think recalibration might be a fix, but not sure of what location to use for recalibration.  I'm starting to think that might just be too much EM interference here inside the building.  I'm going to give this issue a rest for a while and instead work on the data flow from IMU->rover->seykhl->log.

9 Jun 14
Goal: Continue work on IMU data flow. 


10 Jun 14
Goal:  Work on IMU calibration (probably outdoors)


11 Jun 14
Goal:  Finish work on IMU data flow. 


12 Jun 14
Goal:  Work on GPS data flow (should be a quick modification from IMU data flow). 


13 Jun 14
Goal:  Start work on encoder->Teensy interface. 

16 Jun 14
Goal: Research availability of a time of day clock on the IMU and see if it can be used to timestamp data.  Start working on integrating accelerometer data to get velocity and position.
--Discovered upon reading about the instruction set that the IMU has that there doesn't appear to be any kind of time of day clock available on the IMU.  However, there is a millis() function that returns the number of milliseconds since the current program started running (overflows after ~50 days, so should be suitable for my purposes).  I could use this to implement a timer on the IMU that sends data to the Gumstix at a set interval (100 ms if we want 10 updates/sec), which would remove the need for the Gumstix to poll the IMU for data.  Timestamping of the data could then be done upon its arrival at the Gumstix, before transmission to seykhl.
--Read more into the DCM algorithm implemented in the razor-9dof-ahrs code I'm using as my base.  The comments in the code seem to indicate that the DCM algorithm does some amount of integration, so I'm trying to understand that more in an effort to do my own integration on the IMU.  DCM (Direction Cosine Matrix) seems to be very similar to the rotation matrices used in ECE569.   


17 Jun 14
Goal:  Do outdoor calibration of IMU (best chance of a day without rain).  Continue working on integration on IMU.
--Redid calibration of IMU outdoors (picnic table in front of south wing of EE building).  File saved as imu-calibration-17-jun-14.txt.
--Broke one front bump switch during calibration--need to replace the switch with a spare.


18 Jun 14
Goal:  Continue working on integration on IMU.
--Started an in-depth reading of the paper by Premerlani that the razor-9dof-ahrs code is based on, with the goal of understanding their algorithm and exactly how it is implemented in the code in order to modify it in order to use the IMU for positioning.  Also started reading the papers by Mahony that the Premerlani paper is based on.
--Also worked on MA511 readings and homework.

19 Jun 14
Goal:  Finish IMU integration--IMU should be able to output raw/calibrated accel/gyro data, integrated velocity, integrated position, and heading.
--MA511 homework and Premerlani/Mahony paper reading.

20 Jun 14
Goal:  Work on GPS data flow to Gumstix.
--Finished MA511 homework.  Next week I'll try to get the homework done in smaller chunks.
--Continued reading the Premerlani and Mahony papers.  Reading these carefully in order to get a good understanding of the algorithm before I go mucking with the IMU code that implements it.  
--Also read some more about Kalman filtering in general and how it can apply to robot navigation/positioning specifically.  Spent some time thinking about the fact that once I have working encoders, I will be able to measure my wheel velocity (and thereby the robot velocity) directly.  I know this won't be of much help with what I'm trying to do with the IMU right now, but it provides another input (along with IMU and GPS) to the Gumstix, where I'll implement some sort of filter (Kalman or ???) to synthesize my sensor data into position.  Since what I'm trying to do on the IMU is integrate linear acceleration to get linear velocity (albeit with accumulating error), will this directly measured velocity from the encoders enable me to correct my error before integrating the velocity into position?  Or with measured wheel velocity, can I just skip integrating the IMU linear acceleration and instead use the velocity from the encoders to go to position?  I would think that more sensor data would be better than less, but I'm not sure.  I'll have to keep thinking about this, especially as I continue reading and picking apart the IMU code.

23 Jun 14
Goal: Read Premerlani and Mahony papers
--Completed reading Premerlani paper.  Started on first Mahony paper.
--General algorithm idea is this:  In the DCM algorithm, they get orientation by integrating gyro signals and using accelerometer signals to correct for drift/error.  I want to do the same thing in reverse: integrate accel signals to get to velocity, and use gyros (or magnetometers) to correct drift/error.  Not sure what I can use to correct for error accumulation when going from velocity to position.

24 Jun 14
Goal: Finish reading Premerlani and Mahony papers
--Continued reading Mahony.
--Replaced broken bump switch on rover in preparation for IMU data gathering runs.


25 Jun 14
Goal: Start modifications to IMU code to get at least part of the way from acceleration to position.
--Started building infrastructure to send raw IMU data (3 sensors x 3 axes) through gumstix to a separate log file on seykhl for offline algorithm development.
--IMU currently outputting sensor values (from Razor_AHRS firmware) that don't seem to have any grounding in the physical world--numbers just seem to be values in the range of the ADC. I guess this was more efficient when doing the DCM algorithm, but I think it makes more sense for me to use values that mean something (i.e., accelerometer in m/s^2, gyro in deg/sec, magnetometer in degrees of declination/inclination).  Need to get the necessary info from the individual sensors' data sheets in order to convert these numbers to physical values.
--Also started reading up on methods of numerical integration.  Discovered Verlet integration, which appears to have been developed as a way to numerically integrate Newton's equations of motion (i.e., from acceleration back to displacement--exactly what I'm trying to do!).  It seems to be computationally feasible, even on the IMU's microcontroller (4 multiplies and 2 adds per iteration).  However, I'm not sure about the error performance, and there will be additional computations needed if my time step is not fixed.  Also read a little bit about the Runge-Kutta method, which may be more accurate (but at the cost of more computations).

26 Jun 14
Goal: Continue work on IMU code.
--Continued building infrastructure to log IMU data into separate log file.  Have the file created on seykhl and a socket listening on a separate port.  
--Ran into a couple of bugs and had to spend some time fixing them before I could test interaction between seykhl and the rover for the new log file: 1) front camera was not working at all and the startup was hanging on it--troubleshot the software for a while, only to figure out that unplugging the camera and plugging it back in fixed the problem, and 2) my regular (command) log files were exploding to MB size with a ton (100,000s) of extra newlines at the end of the file--tracked it down to a logic mistake in the rover_server_log() function in toollib-rover-cpp.cpp
--After I fixed those problems, I started testing the logging of IMU data.  I haven't been able to get IMU data across yet.  In toollib-rover-cpp on seykhl, currently trying to have new log socket monitored in rover_server_log thread, and I think this might be the problem--it doesn't seem to be accepting the connection from the rover until I shut down the viewer.  Will troubleshoot this more tomorrow.

27 Jun 14
Goal: Continue work on IMU code.
--Completed MA511 HW #2 (approx. 1 hour per day this week)
--Troubleshot error with the new log socket on seykhl to the fact that both the old log socket and the new IMU log socket were somehow getting the same file descriptor number, which was causing an error.  I was able to overcome this by putting some additional logic conditions around when these file descriptors got closed, ensuring that the attempts to open them were sequential rather than simultaneous.  However, once I got that fixed I started getting bad file descriptor errors when I shut down the emperor code on the rover.  I believe the issue is with the loop conditions around my select/recv loop.  Need to find and use a function that checks if a given integer is a valid file descriptor.

30 Jun 14
Goal: Finish debugging IMU logging and research conversion factors for IMU data to physical data.
--Implemented a function in toollib-rover-cpp that checks for a file descriptor for validity using fcntl (is_valid_fd()).  Using it in loop conditions in rover_server_log() and it seems to fix the bad file descriptor errors I was having on Friday.
---
--Successfully have IMU logging data split out to separate file.  Everything seems to be functioning properly after the split.
--Noticed some extra newlines in the regular data log file.  After some debugging, figured out that there were some receives on seykhl that weren't receiving a full buffer before returning, so the receives following those were coming up empty.  Put a little check after the receive to make sure that the buffer didn't start with a '\0' or a '\n', and that seemed to fix the problem.

1 Jul 14
Goal:  Implement IMU logging of physical quantities, collect data for algorithm development, and start algorithm development.
--Got standalone IMU program working on rover.  Still only getting about 37 Hz updates (vice 50 Hz).  First draft at implementing timestamp from IMU instead of from Gumstix.

2 Jul 14
Goal: Continue working on algorithm.
--Got IMU timestamp working more efficiently.  After IMU timestamp, could not get Gumstix to pull data from IMU faster than 25 Hz.  Changed the design to have the IMU push data as fast as it computes it, and have the Gumstix loop on a listener.  This got updates at as close to 50 Hz as I think we can get (intervals between IMU data -- measured by IMU clock -- were all either 20 or 21 ms, for a run of ~3000 samples).

3 Jul 14
Goal:  Complete algorithm development, implement on IMU, and test.
--See rover log

7 Jul 14
Goal: Collect IMU data for algorithm development.  Look at what IMU output is when rover is at rest and think about how it will affect velocity/position calculations.
--Collected IMU data for rover at rest on desk (1 file, ~2300 samples), rover at rest on floor (1 file, ~5100 samples), rover driving just forward between the two marked points on the floor (2 files, ~3700 samples total, although there were some slight turns/pivots during these runs), and the rover driving back and forth between the two points (1 file, ~5100 samples, with minimal to no turning/pivoting).  Next need to analyze this data--probably plotting each acceleration axis as a function of time (for moving samples), or plotting histograms of acceleration values (for still samples)

8 Jul 14
Goal:  Start IMU algorithm development.
--Noticed that accelerometer output was not normalized, due to differently scaled x, y, z axes used in DCM algorithm.  Implemented a normalization of the axes just before multiplying by g0.  This seemed to improve accuracy of IMU output--prior to normalization, IMU output (x,y,z in cm/s^2) was on the order of ([-5.54,9.23], [-16.81,-5.60], [928.36, 947.04]) for the rover at rest, which was far off the ideal of (0, 0, 980.665).  After normalization, output was ([-17.35,-1.91], [-17.61, -1.93], [980.46, 980.65]).  The post-normalization data was taken with the rover on the desk, so the negative tilts on the x and y axes may be due to the fact that the rover doesn't sit perfectly level on the desk.  I will need to recheck the level of the IMU with the rover sitting on the floor.  I will also need to retake the data I took yesterday, since the non-normalized data is probably not useful.


9 Jul 14
Goal:  Continue work on IMU algorithm.
--Teensy mounted, connected, able to count ticks of wheel using example program.

10 Jul 14
Goal:  Complete algorithm development, implement on IMU, and test.
--12V wall power supply in use.
--Did some runs over measured distance to determine tick count per cm for each wheel.
--Studied for MA511 midterm.
--Started backup of rover SD card at 1707 using command 'dd if=/dev/sdg | gzip > ./sd-backup-2014-07-10.gz' in /aux/sbroniko/backup/20140710.  To unzip, use 'gzip -dc /path/to/image.gz | dd of=/dev/sdx' (directions found at http://raspberrypi.stackexchange.com/questions/311/how-do-i-backup-my-raspberry-pi).  Monitoring dd using 'watch -n60 'kill -USR1 $(pgrep ^dd)''

11 Jul 14
Goal:  Refine IMU algorithm as needed.  Start setting up wheel encoder to Teensy interface.
--Backup of SD card completed overnight.
--Shortened the wifi and front camera USB cables.
--Had some sort of power surge when powering up the robot and had several components rendered inoperable (no physical damage, but will not power on or respond).  The destroyed components are: DC-DC converter, USB hub, Teensy, GPS, Wifi adapter.  I have ordered replacements for the Wifi (should arrive tomorrow), as well as the GPS and USB hub (should arrive by Tuesday).  I had a spare Teensy on hand, and it has already been replaced.  I also have the parts on hand to replace the DC-DC converter--I have started that repair and will come in tomorrow to finish it.  With any luck, I'll also have the new Wifi adapter by that time and can install that tomorrow as well.
--I will be able to continue working on Teensy programming on Monday and Tuesday while awaiting parts, since I have to use my laptop to upload the code to the Teensy anyways. 


14 Jul 14
Goal: Finish replacement of USB hub and recheck functionality.  Repeat experiment from last Thursday to see if the change in weight/distribution changed the ticks/cm count.  Start working on Teensy program to report cm traveled.
--Got USB hub completely replaced (mounted, Gumstix remounted and wires rerouted, USB cable spliced, hub power cable built and wired into 5V bus on rover).  All systems appear to function normally.  

15 Jul 14
Goal:  Replace GPS receiver (exact replacement, no change to weight/distribution). Continue working on odometry program (Teensy->Gumstix->seykhl log file).
--Got GPS receiver installed and plugged into permanent port (w/ shortened cable).  It appears to function normally--can read GPGGA, GPGSA, GPRMC, GPGSV NMEA sentences at 4800 baud via screen.


16 Jul 14
Goal:  Complete odometry program.  Write similar program to get data from GPS and send it back to seykhl.
--Receiving raw NMEA sentences from rover into imu-log.txt.  First draft did not have both GPS and IMU data in the log file (only one or the other) because the code on the seykhl side was not set up to accept multiple connections to the port that logs to that file.  Need to modify rover_server_log in toollib-rover-cpp.cpp in order to allow 3 different connections (IMU, GPS, encoders) to the log_imu_sockfd port (which in turn is how we write to imu-log.txt)


17 Jul 14
Goal:  Complete GPS program.  Start collecting consolidated position sensor data over a known/measured route.
--Finished modifications to toollib-rover-cpp.cpp to allow simultaneous logging to the same file.  Logging works--GPS messages are interspersed among IMU messages.  Added code to also enable encoder logging when the Teensy code is ready.
--Noticed a slowdown in camera frame rate to ~6-7fps/cam (normally 11-12fps/cam).  Tried rebooting and it didn't seem to fix the problem.  Need to figure out what changes to the code caused the slowdown--suspect it is something in toollib-rover-cpp.cpp
--Fixed camera frame rate slowdown by reworking the logic in the inner loop of rover_server_log() in toollib-rover-cpp.cpp.  Changed the loop to only check the log_threads_should_die flag instead of checking is_valid_fd() for each fd every iteration.  Framerate back to normal.
--Changed frame rate parameter in call to cv::VideoWriter (in rover_server_setup(), toollib-rover-cpp.cpp) to 10.5 from 12.0 to better reflect the actual frame rate that I'm getting from the cameras (taken from the camera timestamp log files, dividing number of frames by (last frame time - first frame time)).  This only affects the saved AVI files, not the real-time display in the viewer.
--Repeated the tick count over known distance drive experiment from 10 Jul to see if the change in hardware (different USB hub, different cable arrangement) had an effect on the ticks/cm measurements.  The new tick counts are LEFT = 328.288 ticks/cm and RIGHT = 323.709 ticks/cm.  Measurements were taken from 5 runs, varying between 15.66' and 68.38'.  R^2 values on both linear regressions were > 0.999998, so I'm confident that the linear fit is good and using ticks to measure cm traveled will give accurate numbers.

18 Jul 14
Goal:  Complete data collection and start development on trace algorithm.
--Worked on MA511 HW4 and readings.
--Started on Teensy code to read encoders and output each wheel's cm traveled every 20ms.  Have the code ~50% done, and rsync'ing it back to seykhl to be git'ed with the code there.  Will be in tomorrow (and probably Sunday as well) to work on it, since my family is on vacation in Kansas for the next week to 10 days.  By the end of the weekend I plan to have collected consolidated data files (IMU, GPS, encoder) of at least one or two runs of the rover driving loops around the EE313 complex.

19 Jul 14
--Completed Teensy code for odometers.  Teensy reliably outputs a cm traveled reading for each encoded wheel every 20ms.

20 Jul 14
--Changed binary mode of Teensy output to send floats (cm measurements) first so that encoders_data_read() in run-encoders.cpp can more closely match razor_data_read() in razor-imu.cpp.
--Made modifications to toollib-rover-cpp.cpp to have 3rd sensor (encoders via Teensy) connected and logging to imu-log.txt.  Seems to be working.
--Looked at camera logs and confirmed that with all 3 sensors running, the framerate is still ~10 fps/camera (same as before I wrote the sensor monitoring programs).
--Looked at a log file from a run while on the stand and saw that once all three sensors got going, the output was generally as expected--alternating ENC and IMU messages (both at 50 Hz), with GPS messages interspersed at 1 Hz.  
--Noticed a few cases where there was a series of two or three ENC messages followed by two or three IMU messages. On some of these the out-of-order messages would have been in-order if the Gumstix timestamps had been written in order (i.e., a line had a timestamp that was earlier--by ~.001s--than the line above it).  This leads me to believe that the out-of-order problem lies within the Gumstix and its context switching of the processes that do the logging.  I don't think this will be a problem, since the IMU and encoders each have their own internal timestamps that we can use (although those timestamps are not synchronized)
--Also noticed that as the sensors come online, in about the 1st second of operation, there are a bunch of encoder messages in a row, all before the IMU comes online.  I wonder if there is a way to suppress these messages...or if it's even necessary to do so, since it should be easy to ignore them when processing the imu-log file.  Need to think about this a little more.  Once I figure this out, I'll be ready to do a few drives around the office in order to collect data to use with Dan's Kalman filter code.

21 Jul 14
Goal: Finish final tweaks/debugging of sensor logging.  May have to slow IMU and encoder updates down to 40 Hz (instead of 50 Hz) because I saw in the log that the time interval between some IMU updates was 21 ms, while the encoders were always at 20 ms, which causes these two sensors to get out of sync with each other.  I think slowing the requested interval down to 25 ms between updates is the easiest fix.  Also look at sensor startup in log--is it necessary to sync the start of each sensor's messages?  Once these are fixed, take some log data of rover driving in different patterns around the office.
--Changing the update interval on the IMU to 25 ms (vice 20 ms) did not seem to work.  With the interval set at 20 ms, the measured interval (using IMU clock) was roughly 50% at 20 ms, and 50% at 21 ms.  When I changed it to 25 ms, I measured roughly 50% at 25 ms, 40% at 26 ms, and 10% at 27 ms.  I tried changing then interval to 50 ms, I measured ~75% at 51 ms and ~25% AT 52 ms (i.e., NONE at exactly 50 ms).  Setting the interval at 40 ms also didn't work.  Next going to try to use the function micros() to try to get higher resolution timing.
--Got timing on IMU working using micros() timer.
--Modified rover_server_log() in toollib-rover-cpp.cpp to:
   1) close the fds from each sensor (and command log) when the sender performs and orderly shutdown (recv retval == 0)
   2) only log the start message ('X logging started') from each sensor until all 3 sensors have sent that message.


22 Jul 14
Goal:  Read up on Kalman filters (I have a couple of book chapters handy) and start looking at Dan's Kalman and NMEA (GPS) parser code.
--Mods to rover_server_log() appear to work as intended.  Still have a few extra messages from the 3rd sensor to start appearing in rapid succession (< requested interval, according to Gumstix timestamp) after connection (seems like a serial buffer clearing out).  Implemented small 'null' loop on rover in run-imu and run-encoders that reads data without sending for ~200 ms before starting to send.
--In long (>70 minute) run to test rollover logic in IMU code, noticed several garbled messages (excess newlines, cutoff lines, and lines that don't start with the timestamp as they should).  Fixed it by creating a function that handles the recv and fprint uniformly with error checks (same as I had done for just the command log file)
--Noticed problem that when I would run (viewer '()) multiple times without closing and restarting dsci, there would be network errors that certain sockets wouldn't connect--usually the IMU, but sometimes one of the cameras.  The error messages were that bind() failed due to address already in use.  Tried to correct this by adjusting when sockets were closed, but had no luck. 
--Was able to get multiple runs of (viewer '()) working by resetting all the new connection sockets to -1 at the start of rover_server_log().  This forced all to reconnect.  I think the problem was that the fd integer used by the previous call to connect was getting reused by another socket, which bypassed the call to reconnect since that fd integer was valid.
--Next effort is to try to combine separate executables on rover for gps, imu, encoders into a single program that sends a consolidated sensor message to the log.  In addition to avoiding the socket problems, this would also solve the problem of synchronizing the messages from the imu and encoders.

23 Jul 14
Goal:  Start adapting Dan's code to work with my data.
--Drove rover on one loop (counterclockwise) of EE313 complex and one run out EE313G, left down to water fountain, and back into EE313G to give Dan some live log files with IMU and encoder data to use with Kalman filter.
--Built run-sensors.{cpp,h}, which will run the encoders and IMU in sync with each other.  Basically it's a merge of run-encoders and run-imu.
--Modified rover_server_log() in toollib-rover-cpp.cpp to use only two connections to imu-log.txt (since encoders and IMU are now together).  Seems to work well--combined IMU & encoder messages are on a single line, and the GPS messages are interspersed.

24 Jul 14
Goal:  Continue adapting code.
--First trace plots done from small run around EE313.  Results based almost completely on odometer readings look pretty good.  Trouble seems to happen when we go from tile to carpet (odometers read more distance covered than actually covered) or on long straightaways (heading tends to drift left--might be because of encoder ticks to cm conversion).  Other sensors seem to be too inaccurate/inconsistent to use.  Working on how to get other sensors (compass/yaw, acceleration) to provide meaningful data/input to Kalman.
--Added mNMEAParser and mGPSInfo to dsci in order to parse GPS messages.  Still need to finish and test.


25 Jul 14
Goal:  Produce first (x, y, orientation) trace from log data and Kalman filter and compare against path driven.
--Changed Odometer.ino program on Teensy to use an average of the left and right ticks/cm for both wheels instead of the individual numbers--trying to see if this will help correct the 'pull' we observed yesterday.  Plan on also taking the robot down to the MSEE atrium to drive around there to see if we can get better magnetometer data in a different environment.
--Ran drive test in MSEE atrium.  Had some issues with wifi dropping out, but was able to get in a couple of decent runs.  At the beginning of the runs the plots looked pretty good (with better--though not perfect--compass heading data), but the plots of the runs would stop before they were complete.  Upon examining the logs, saw a lot of garbled IMU/encoder data lines, and they all seemed to happen around the time a GPS line was coming in.  The problem shouldn't be with my logging code on seykhl, since that is a single thread that services the different file descriptors (sockets) sequentially.  That leads me to believe I need to restructure the rover-side code to have the GPS read in the same file, so that only one file is writing to a socket that writes to imu-log.txt.  I plan on coming in tomorrow to work on that, as well as the GPS sentence parser.

--Starting to think about the design of the experiment.  Need to come up with the following:
  -- Robot range of ~30' x 30' (inside Armory--should be no problem)
  -- ~5-8 obstacles to use in the range (some may be repeated)
  -- ~5 different arrangements for obstacles within range (do we want to use completely different positions for the obstacles, or have set obstacle positions and just rearrange which obstacle is at which position?)
  -- a context-free grammar for the sentences that the robot will use consisting of:
     -- 1 subject noun: robot
     -- 1 verb: go/went or drive/drove (does it make a difference?)
     -- Prepositions (how many?)
     -- 5-8 object nouns (the obstacles)
  -- From the CFG, generate ~50 sentences that describe robot motion
     -- ~half will be simple (single preposition/single object)
     -- ~half will be complex (multiple prepositions/multiple objects)
  -- Arrange the sentences and obstacle arrangements so that each sentence is tested 10 times each in two different arrangements (20 tests per sentence, 1000 tests total).

26 Jul 14
--Removed all references to log_imu_new_fd2 in toollib-rover-cpp.cpp in order to support the change of run-sensors.cpp running the GPS on the rover.

27 Jul 14
--Changed structure of rover_server_recv_and_print() in toollib-rover-cpp.cpp to deal with a buffer of messages coming from the IMU socket. Also added constants k_messsages_per_second and k_msg_buf_size to toollib-rover-cpp.{h,cpp} for buffer size--must keep these in sync with the same constants on rover.
--NEED TO FIX the receive of the buffer on the seykhl side--look at sensor_send_data() on rover.

28 Jul 14
Goal: Finish fixing the receive side of the IMU (sensors) log on seykhl to deal with a large buffer of messages instead of a single message.  Start working on fixing sending side of sensors log on rover.
--Discovered that rover_server_recv_and_print() was never receiving a full message buffer (13312 bytes), the recv() calls were returning after between 1448 and 3176 bytes.  Restructured rover_server_recv_and_print() to use the recvall() function that I use to receive the image frames as unsigned char buffers.  This seems to be working well--I'm receiving all of the messages I'm expecting to receive, and none are mangled.b

29 Jul 14
Goal:  Finish fixing sending side sensor code--envision 4 threads: 3 producers (IMU, encoder, GPS) that put data into a buffer, and 1 consumer that sends the buffer once it fills up.


30 Jul 14
Goal:  Test new sensor code.  Do another set of runs in MSEE atrium to see if we can get better magnetometer readings there.  Continue thinking about structure of experiment.
--Modified rover_server_recv_and_print() in toollib-rover-cpp.cpp to deal with variable sized buffers coming from IMU log.  Seems to be working correctly.

31 Jul 14
Goal:  Continue thinking about/discussing structure of experiment.  Collect  up (or at least settle on) obstacles to use.  Start investigating the possibility of 3D printing a new mount for the IMU from plastic.
--Confirmed that new IMU log buffered message passing works-->ran sensors for >14 hours with no errors (and imu-log.txt was >700MB).
--Have IMU log now getting parsed GPS sentences (instead of raw, as previously).
--Ran test-2014-07-31.  Data looking decent--had one out of 10 runs not log data.  Have data for 5 sentences (2 runs x 4 sentences, 1 run x 1 sentence), plus an additional run where I drove a square for calibration.

1 Aug 14
Goal:  Continue thinking about/discussing structure of experiment.  Start solidifying the grammar that we will use.  Start studying for MA511 final (next Thursday, 7 Aug).
--Ran an overnight test with the robot sitting on its wheels on the floor to collect data from the IMU while the robot is not moving.  Test ran for ~5 hours, errored for about 5 seconds, ran for ~1 more hour, and then died completely--looked like the USB had an error which knocked out all USB peripherals.  I still think that I got a decent amount of data from that test.  Also ran another test today for ~3 hours with the robot not moving.  Plan on taking all this data and then computing the mean, variance, and standard deviation for all the IMU outputs to see what those look like for when the robot is not moving.  I figure only the 3 axes of the accelerometer and the 3 axes of the gyroscope will be useful, but it's just as easy to calculate all of them. **After today's meeting, put this effort on hold until after at least initial analysis of yesterday's data is complete**
--Starting to think about how to formulate cost functions for the 5 sentences we drove yesterday.  Initial thought is to just consider final point of each path and score it against a potential field function that accounts for both the preposition and the location of the object (since that will change where the potential field is located in our plane).
--Have Dan's code to turn imu-logs into tracks in ./from_dan/linuxport/log_to_track.cpp (which also uses config.txt)

4 Aug 14
Goal: Work on data analysis from runs.  Study for MA511 final.
--Have first draft of data analysis done.  Matrix is:
                       LofT  LofT  RofC  FofT  FofT  BhT   BhT   BwTC  BwTC
Robot left of table:  -0.52 -0.68 -3.09 -1.69 -1.44 -1.56 -0.04 -3.03 -3.14
Robot right of table: -2.62 -2.46 -0.05 -1.45 -1.70 -1.58 -3.10 -0.11 -0.01
Robot front of table: -7.33 -7.17 -4.76 -6.16 -6.41 -3.13 -7.82 -4.60 -4.71
Robot behind table:   -1.05 -0.89 -1.52 -0.12 -0.13 -0.01 -1.53 -1.46 -1.57
Robot left of chair:  -0.19 -0.23 -2.89 -0.37 -0.46 -0.43 -0.01 -0.12 -0.01
Robot right of chair: -2.95 -2.92 -0.26 -2.77 -2.68 -2.71 -3.13 -3.02 -3.13
Robot front of chair: -7.66 -7.63 -4.97 -7.48 -7.39 -2.00 -7.85 -1.69 -1.59
Robot behind chair:   -1.38 -1.34 -1.31 -1.20 -1.11 -1.14 -1.56 -1.45 -1.56
Robot between
table and chair:      -2.81 -2.68 -2.94 -1.82 -2.16 -2.01 -3.11 -0.23 -0.02
--Not quite sure that I've got the right output--some data may be misprinting.

5 Aug 14
Goal: Work on data analysis from runs.  Study for MA511 final.
--Got better output data from analysis:
k_left_edge = -3.11, k_right_edge = 3.02, k_top_edge = 5.09
chair at 1.26, 2.54; table at -1.26, 2.55
endpoints[0]: x = -2.555732, y = 1.807984, trial001
endpoints[1]: x = -2.280982, y = 1.722887, trial002
endpoints[2]: x = 1.813391, y = 2.395511, trial004
endpoints[3]: x = -1.150317, y = 1.603818, trial005
endpoints[4]: x = -1.443748, y = 1.183032, trial006
endpoints[5]: x = -1.274785, y = 3.699404, trial007
endpoints[6]: x = -2.434441, y = 2.507411, trial008
endpoints[7]: x = -0.011552, y = 2.692232, trial009
endpoints[8]: x = -0.052447, y = 2.557936, trial010

Angle    1     2     4     5     6     7     8     9     10
Table: -2.62 -2.46 -0.05 -1.45 -1.70  1.58 -3.10  0.11  0.01
Chair: -2.95 -2.92 -0.26 -2.77 -2.68  2.71 -3.13  3.02  3.13

                      1.L-T 2.L-T 4.R-C 5.F-T 6.F-T 7.B-T 8.B-T 9.BTC 10.BTC
Robot left of table:  -0.52 -0.68 -3.09 -1.69 -1.44 -1.56 -0.04 -3.03 -3.14
Robot right of chair: -2.95 -2.92 -0.26 -2.77 -2.68 -2.71 -3.13 -3.02 -3.13
Robot front of table: -1.05 -0.89 -1.52 -0.12 -0.13 -3.15 -1.53 -1.68 -1.58
Robot behind table:   -4.19 -4.03 -1.62 -3.02 -3.27 -0.01 -4.67 -1.46 -1.57
Robot between
table and chair:      -2.81 -2.68 -2.94 -1.82 -2.16 -2.01 -3.11 -0.23 -0.02
DIDN'T DO THE COMBINATIONS BELOW
Robot right of table: -2.62 -2.46 -0.05 -1.45 -1.70 -1.58 -3.10 -0.11 -0.01
Robot left of chair:  -0.19 -0.23 -2.89 -0.37 -0.46 -0.43 -0.01 -0.12 -0.01
Robot front of chair: -1.38 -1.34 -1.31 -1.20 -1.11 -4.28 -1.56 -4.59 -4.70
Robot behind chair:   -4.52 -4.49 -1.83 -4.34 -4.25 -1.14 -4.70 -1.45 -1.56
(scores are the difference between the observed angle and the desired angle--higher is better, best possible value is 0)

--Realized that trial008 gave a bad track--the endpoint given by the track is to the left of the table, when it should be behind the table. ***From this, I figured out that for the next data collection run, we should measure the ground-truth of the endpoints of each run, so that we can compare the generated track to the ground-truth and disregard tracks that aren't close enough.
--Aside from trial008 being a bad run, the matrix is giving good results for the runs we did matching the mathematical analysis.
--Wondering if I need to generalize this more so that the scores are on the range of (0,1)--which will make for easier comparisons to prepositions that are not based on angle, such as 'near' and 'far'.  Thought about using sin and cos to at least get to the range of (-1,1), but was reminded that those are not linear transformations and might not be best to use.
--Jeff mentioned 'angle normalizing' code in C and Scheme--need to find this to see what it does.
--Found some code in hmm-def.c and toollib-hog-c.c for a sigmoid function and normalizing angles to a given range (+/- pi in my case).  Started working with the sigmoid as the final output of my preposition score functions, but not sure if I've got the right settings for a (threshold) and b (slope).  Also not sure that I'm using the normalize function(s) correctly--need to look at this some more.

6 Aug 14
Goal: Finish up data analysis.  Study for MA511 final.
--Studied for MA511 final most of the day.
--Worked a little bit on the angle orientations.  I understand how angle differences can always be express on the range of [0,pi] or [-pi/2, pi/2], but I'm working on how to apply it in my particular case.  I think I have Left and Right working correctly now, but Front is still giving me problems.

7 Aug 14
Goal: Study for MA511 final (final is at 3:30)
--Studied for and took the final.  I think it went well.

8 Aug 14
Goal: Evaluate results for data analysis.  Start considering larger grammar for next data collection effort.
--Thinking about how to do Near and Far from an obstacle...since there's no 'max' distance from an obstacle, maybe take linear distance from obstacle to edge of field (along line from robot to obstacle) and use that as the max.  But what to do when another obstacle lies along that line (and how do we detect that)?
--Still working on angle orientations, picking up where I left off Wednesday.  I think my best course is to have all my differences on the range of [0, pi] and then use n inverted  sigmoid to have the difference values closer to 0 output numbers closer to 1.  I also thought about just dividing my difference values by pi, so the values will be on the range of [0,1], but still with better values closer to 0.  Don't know if this gives me any benefit, but I can use it for troubleshooting to quickly find values that come back higher than pi.

11 Aug 14
Goal: Continue working on the formulations for Front and Back (and possibly Between).
--Starting to work on how to automate the scoring/accuracy process to get a score of correct/total by rows and columns
--Abandoned work on using normalize_orientation() to get positive angle differences (as well as sigmoid() to scale 0 to 1) and instead went back to using negative values with fabs() since that seemed to be working well.  Still dividing everything by PI so will have values [-1,0].  
--Still observing values less than -1 for front and behind--need to look at the math of those functions to see what I'm doing wrong--fixed this by using a normalize_orientation() inside the fabs(angle - (+/- PI)) I had been using.
---
--Made minor tweaks to Dan's log_to_track.cpp to add an fclose() after done writing to outfile, and to print a single line of X, Y, and Theta all 0 when an imu-log.txt file has 0 measurements (like trial003).
--Cleaned up main vader-rover directory and moved data-analysis.cpp there.
---
--Continuing with automating the data analysis.  Have the data-analysis program taking 2 arguments: datapath and num_trials.  Also have the program reading in a setup.txt file (located in datapath/) that describes the dimensions of the field and the locations/names of the obstacles.  Also changing the obstacles from being just a Point2d variable to a struct that joins a name with a Point2d location.

12 Aug 14
Goal: Finish up Front and Back, work on Between, Near, and Far.
--Continued work on automating data analysis.  Have field setup (boundaries and obstacle locations/names) and the creation of track.txt files from imu-log.txt files fully automated.  Working on automating the creation of Track_t's, which is just a struct joining 1) a string representing the ground truth of that run (stored as truth.txt), 2) the number of points in the track, 3) an array of the point values (x, y), and 4) an array of the theta values at each point.

13 Aug 14
Goal: Finish all preposition function formulations.
--Have automated file reading and matrix generation finished.  Need to compare new matrix with old one to see if math is right.  Also need to do automated scoring.

14 Aug 14
Goal: Start building larger grammar for 100-run test.  Initial thought is using 7 prepositions (Right, Left, Front, Back, Between, Near, Far) with 5 obstacles (Table, Chair, Box, Cone, Ball), but that only gives me ~40 sentences with a single preposition.  Would it be better to do multiple runs of the same sentence (either with the same or different obstacle arrangement), or to create sentences with multiple prepositions, or to add more prepositions/obstacles?
--Cleaned up output of log_to_track.cpp by commenting out printfs.
--Deleted old/commented-out code in data-analysis.cpp
--Shortened output of data-analysis.cpp.  Still a few printfs to stdout, but matrix data now written to analysis-matrix.csv-->can open easily as spreadsheet to inspect matrix (which will come in handy when matrix is bigger than 5x10).
------
--Have automated scoring/accuracy complete and working.  Results currently both printed to stdout and to results.txt.  Results show which combinations are correct/incorrect as well as a percentage correct for both sentence-to-run (best column for a row) and run-to-sentence (best row for a column)
------
--Changed prepositional functions to scale from 0 to 1 by taking 1 - (prev output / pi).  Higher scores still best.  Output looks like:
sbroniko@seykhl:/amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover$ ./data-analysis ./data/test-2014-07-31/ 10
./data/test-2014-07-31/setup.txt processed:
	left_edge = -3.11, right_edge = 3.02, top_edge = 5.09
	Obstacle: table at x = -1.26, y = 2.55
	Obstacle: chair at x = 1.26, y = 2.54
10 track.txt files created
10 tracks read in from tracks.txt files

Matrix of angle (radians) between robot endpoint and obstacle, by run
           1     2     3     4     5     6     7     8     9    10
table: -2.62 -2.46 -1.11 -0.05 -1.46 -1.71  1.59 -3.10  0.11  0.01
chair: -2.95 -2.92 -2.03 -0.26 -2.77 -2.68  2.71 -3.13  3.02  3.13

Results matrix written to ./data/test-2014-07-31/analysis-matrix.csv

Sentence-to-run and run-to-sentence results below written to ./data/test-2014-07-31/results.txt

Sentence 1 'left-of-table' matches run 8 'behind-table' which is INCORRECT
Sentence 2 'right-of-chair' matches run 4 'right-of-chair' which is correct
Sentence 3 'front-of-table' matches run 5 'front-of-table' which is correct
Sentence 4 'behind-table' matches run 7 'behind-table' which is correct
Sentence 5 'between-table-and-chair' matches run 10 'between-table-and-chair' which is correct

Sentence-to-run accuracy: 0.800000

Run 1 'left-of-table' matches sentence 1 'left-of-table' which is correct
Run 2 'left-of-table' matches sentence 1 'left-of-table' which is correct
Run 3 'right-of-chair' matches sentence 3 'front-of-table' which is INCORRECT
Run 4 'right-of-chair' matches sentence 2 'right-of-chair' which is correct
Run 5 'front-of-table' matches sentence 3 'front-of-table' which is correct
Run 6 'front-of-table' matches sentence 3 'front-of-table' which is correct
Run 7 'behind-table' matches sentence 4 'behind-table' which is correct
Run 8 'behind-table' matches sentence 1 'left-of-table' which is INCORRECT
Run 9 'between-table-and-chair' matches sentence 5 'between-table-and-chair' which is correct
Run 10 'between-table-and-chair' matches sentence 5 'between-table-and-chair' which is correct

Run-to-sentence accuracy: 0.800000

15 Aug 14
Goal: Continue working on expanded grammar.
--Started reading The Little Schemer.

18 Aug 14
Goal: Finish Little Schemer and start on Seasoned Schemer
--Continued working through Little Schemer.

19 Aug 14
Goal: Finish Seasoned Schemer and start on HTDP
--Continued working through Little Schemer.

20 Aug 14
Goal: Work on HTDP
--Created generator.sc, recognizer.sc, and parser.sc in ~/vader-rover/scheme as initial generator, recognizer, and parser for my grammar.
--Finished working through Little Schemer and started on Seasoned Schemer.  Also reading HTDP.

21 Aug 14
Goal: Work on HTDP
--Continued working through Seasoned Schemer and reading HTDP.

22 Aug 14
Goal: Work on HTDP
--Combined generator.sc, recognizer.sc, and parser.sc into toollib-analysis.sc in ~/vader-rover.  Also plan to use the same file as one consolidated location for Scheme code for data analysis
--modified log_to_track.cpp and data-analysis.cpp in order to produce a new position file ('trace.txt') for each trial that has the (x y theta) triples in a format easily readable by Scheme.
--Implemented read-trace and get-endpoint in toollib-analysis.sc.  They appear to work correctly.  Have obstacles (the-table, the-chair) hardcoded for now. 
--Implemented my five preposition functions (left-of, right-of, in-front-of, behind, between), along with necessary helper functions, in Scheme in toollib-analysis.sc.  Did a quick comparison against C results and got the same answers, so I think I implemented them correctly.
--Continued working through Seasoned Schemer and reading HTDP.

25 Aug 14
Goal: Finish last 4 chapters of Seasoned Schemer.
--First class of CS/MA514
--Finished 3 of the last 4 chapters.

26 Aug 14
Goal: Keep reading HTDP and thinking about how to build score-parse, score-sentence, produce-score-matrix, highest-scoring-sentence-for-trace, and highest-scoring-trace-for-sentence.
--First class of EE661
--Finished last chapter of Seasoned Schemer
--Started changing the generator/recognizer/parser in toollib-analysis.sc to have the different types of words (subjects, verbs, one-object-prepositions, two-object-prepositions, objects, and conjunctions) defined in a single location, instead of individually listed in each section of the code.

27 Aug 14
Goal: Keep reading HTDP and thinking about how to build score-parse, score-sentence, produce-score-matrix, highest-scoring-sentence-for-trace, and highest-scoring-trace-for-sentence.
--Finished modifications to generator/recognizer/parser to use unified definitions of word types.  Since the word groups are now defined as a single list--i.e., (define objects '(the-table the-chair))--instead of individual single-word lists, I couldn't use (either a b) in the generator.  I first tried (list (a-member-of objects)), but that didn't work with the parser because the parser expected a pair.  I instead used (cons (a-member-of objects) '()), which seems to work fine with the parser and recognizer.
--Fixed problem with SSH key on github (new key is ~/.ssh/id_rsa_github)
--Tried rebooting rover to fix SSH key issue and found that the USB Wifi adapter is not connecting to PAL3.0 anymore. Trying to troubleshoot the issue. Problem seems to be something with PAL3.0 and authentication, since I can get the USB Wifi to connect to qobi-office and qobi-cccp (open wifi) with no problems.  I have submitted a trouble ticket to ECN and am awaiting a response.   

28 Aug 14
Goal: Keep reading HTDP and thinking about how to build score-parse, score-sentence, produce-score-matrix, highest-scoring-sentence-for-trace, and highest-scoring-trace-for-sentence.
--Finished score-parse and score-sentence.  Started working on a helper function to read all trace.txt files into one list of multiple traces, for use with produce-score-matrix
--Emailed ITaP reference PAL3.0 issue.  Also found on the purduelug.org wiki a new PAL3.0 page from about 10 days ago that had a link to a new certificate file.  Tried to put it onto the rover from home, but the ssh tunnel to seykhl had died, so I will try it from the office tomorrow.

29 Aug 14
Goal: Keep reading HTDP and thinking about how to build score-parse, score-sentence, produce-score-matrix, highest-scoring-sentence-for-trace, and highest-scoring-trace-for-sentence.
--Got a non-automated reply from ITaP that they were sending my issue over to their networking team.  I had also asked about a separate logon account for the robot, but their reply told me that this account would be subject to the same periodic password changes that my personal account is subject to, so I'm not sure that I would gain anything from having another account with a different password.
--Tried the new certificate file I found on purduelug.org, but it didn't seem to work.  Still no luck connecting to PAL.
--Got an email reply from Ralph McCallister at ECN saying that he's working with ITaP on my issue, and that ITaP has been having problems with credentials reaching the main PAL server.  He requested my MAC address and room number, so I sent those back to him.  Waiting to hear back from him.
--Changed my /etc/network/interfaces to drop the 'pre-up' and 'down' lines and replaced them with 'wpa-conf /etc/wpa_supplicant.conf' and now it works--I'm connected to PAL3.0.  Not sure why that made a difference.
--Have produce-score-matrix, highest-scoring-trace-for-sentence, and highest-scoring-sentence-for-trace working.  Also created pretty-hstft and pretty-hssft that produce pretty text output for highest-scoring-trace-for-sentence and highest-scoring-sentence-for-trace, respectively.
--Currently I make the big score matrix in produce-score-matrix, but I don't use it in the highest-scoring-* functions, instead just looking at one sentence or one trace in those functions.  Would it be better to just compute this matrix once (perhaps when I first load toollib-analysis.sc) and then have the highest-scoring-* functions just reference into this matrix?  This seems to be more complex, but it might be more efficient.

1 Sep 14
Goal:  Work on HW1 for CS514 and ECE661.
--Finished CS514 HW1.  Started on ECE661 HW1.

2 Sep 14
Goal:  Finish ECE661 HW1 (due Thursday).  Start work on adding a notion of proximity to my prepositional functions.  I noticed last week that in certain situations the best-scoring sentence for a run had the right preposition but the wrong object because the further-away object had a smaller angle.  The fix could be as simple as dividing the current angle-based score by the distance to the object, but not sure how to make this work with "between".
--Finished ECE661 HW1.

3 Sep 14
Goal:  Work on and test proximity.
--Have (distance-between p1 p2) working and incorporated into the four single-object preposition functions.  Because I'm now dividing the old angle-based score by the distance between the robot and the obstacle, my score matrix now ends up with some numbers > 1 (when the distance is < 1m).  Not sure if this is a problem...I'm now getting the right answers when I look for the best sentence to describe a run, but I don't know if the exact score value will matter later when I try to build a more complex model.
--Convinced myself of the need for incorporating distance by producing matrix-with-distance-output.txt with two score matrices: using actual distance and using a distance of 1 (to recreate old way of scoring).  The new way with (old angle score)/distance got 8/10 columns correct (2 runs had bad data) and 4/5 rows correct (bad data again).  The old way only got 3/10 on columns--it scored the further-away object higher because its angle was smaller.  Today's change seems to fix this problem.
--I didn't make any changes to (between robot obstacle1 obstacle2) to incorporate distance.  Not sure if I need to--will need to take more data and look at how "between" compares to "left-of" and "right-of".  I think I could simply incorporate a distance factor of (/ (distance-between robot obj1) (distance-between robot obj2)) or its inverse (want the resulting factor to be > 1 so that when I divide the old angle score by it, the new score is smaller...I think).

4 Sep 14
Goal:  Think about how to incorporate a more complex model for traces (i.e., not just looking at endpoints) so that I can have more complex prepositions, such as "around" and "past".  Gather a few more obstacles and start sketching out layout for new data gathering runs.
--Thought some more about the distance factor I incorporated yesterday.  
I realized that by using a physical measurement in meters, my score value is no longer dimensionless (for left-of, right-of, in-front-of, and behind), and these prepositions can get a score > 1 (and thus always beat between, which is still dimensionless) when the distance to the obstacle is < 1m.
Since my thought on using a distance factor with between (i.e., the ratio of the distances to the two obstacles) will still leave the between score dimensionless, I think it makes sense to make the other prepositions dimensionless as well.
I'm having a hard time thinking of ways to do this though--the first thing that comes to mind is to divide the distance by the corner-to-corner distance of the field (i.e., the longest possible distance between two points), but I think this would require a priori information that would be hard or impossible to gather in a less-constrained environment.
For example, given our bounded rectangular field, the robot could use sensor data to determine the corner points and their locations by simply putting special objects at the corners and then finding those objects during the initial scan it would have to do to determine obstacle locations.
However, I don't think there would be a way to scale that kind of a measurement to any type of unbounded environment, which is a long-term goal.

5 Sep 14
Goal:  Start gathering data with ~4-5 total obstacles and using new prepositions (around, past, etc.) that I may or may not yet have a mathematical formulation for.
--Finished CS514 HW2.
--Modified the between function to use the average distance between the robot and the two obstacles as a divisor to get everything in the 1/m units.
It didn't seem to work too well--for the sample runs that were actually between runs, got scores for between that were worse than left-of or right-of.
Need to think some more on how to do this better.  
Could also use the ratio of the two distances as a unit-less multiplier/divisor, or could take the ratio of each robot-obstacle distance to the obstacle-obstacle distance.
Also thinking about somehow using the third leg of the right triangle formed with the robot-object line, object-object line, and a line from the robot perpendicular to the object-object line.
--With original lexicon, there had been 12 sentences produced (2 of them meaningless).
Expanded the list of objects from (the-table the-chair) to (the-table the-chair the-box the-ball the-bucket the-cone) to get 60 sentences (6 meaningless).
Will need to collect these obstacles for next data-gathering session--can define them with dummy locations for now.
Expanded the list of one-object prepositions from (left-of right-of behind in-front-of) to (left-of right-of behind in-front-of around towards away-from past) to bring the sentence count to 84 (still 6 meaningless sentences).
I still need to think about how to implement the semantics of these new prepositions, since they will require a more complex model than the endpoint model I'm currently using--will define dummy functions for now.
I haven't been able to think of any additional two-object prepositions.
I still need to implement longer sentences, and probably a way to join them with temporal conjunctions like (first second ... finally stopped(??) then next), etc.

8 Sep 14
Goal: Work on CS514 HW3 (only 1 problem assigned so far).  Finish ECE661 HW2 (due Thursday). Keep thinking about ways to solve semantics problems with currently defined prepositions.
--Finished CS514 HW3 problem.
--Worked on ECE661 HW2.


9 Sep 14
Goal: Work on fixing semantics issues with right-of, left-of, behind, and in-front-of. Since using the average distance from the robot to the obstacles with between didn't work (and the original method without distances gave good results), I need to rethink how I'm incorporating distance into the other prepositions.  I think that I can build a function (nearest-obstacle robot lexicon) that takes a robot location and the list of obstacles and returns which obstacle is the closest to that point.  Then I can use that function within the single-object preposition functions to determine if the obstacle under consideration is the closest.  If it is, I multiply the original angle score by 1, and if not I multiply by 0.  That way I'm back to having my scores being dimensionless values on the range (0,1], and it should eliminate better scores for more distant obstacles.
--Continued working on ECE661 HW2.  This is proving more time-consuming than I thought.

10 Sep 14
Goal: Keep working on semantics.  Think about how to define new prepositions (around, towards, etc.)--probably will need some sort of state model for the traces.
--Continued working on ECE661 HW2.  Finished shortly after midnight (11Sep).

11 Sep 14
Goal: Work on getting generator and parser to produce and parse sentences with multiple prepositional phrases.  Keep working on state model and new prepositions.
--Wrote (nearest-obstacle point lexicon) that returns the name of the nearest obstacle to the given point and (distance-factor point obstacle lexicon) that returns 1 if the obstacle is closest, else 0.5--just guessed at this factor for now, might need to change it later.
--Modified my one-object preposition functions to accept the lexicon as an additional argument in order to call (distance-factor ...) inside their lets.  Also modified the call to the one-object preposition evaluator from within (score-parse ...).
--Put in dummy definitions for new obstacles and prepositions as placeholders.
--Tested (produce-score-matrix ...) with changed preposition functions and output looks reasonable.  Need to examine a little more closely to ensure the right sentences are winning for the runs we have.

12 Sep 14
Goal: Work on adapting score-parse to deal with sentences that have multiple prepositional phrases.  Keep working on state model and new prepositions.
--Completed CS514 HW3.
--Started on ECE661 HW3 (due Thursday).  Will try to complete this one earlier than the last one.
--Started modifying my generator/recognizer/parser to use multiple prepositional phrases (i.e., "the robot went left of the table then right of the box").  For now just using a single temporal preposition ("then") to join multiple prepositional phrases at the end of the sentence.  It seems easy to have my generator produce sentences of up to a certain number of prepositional phrases, but is there a way to extend this to an arbitrary number of prepositional phrases without hardcoding the number into the generator (and thus the parser/recognizer)?

15 Sep 14
Goal: Work on CS514 HW4 problems (3 assigned so far).  Finish ECE661 HW3 (due Thursday).
--Finished CS514 HW problems.
--Finished code for first half of ECE661 HW3.  Still need to code up second half and write report.

16 Sep 14
Goal: Continue working on generator/recognizer/parser to use multiple prepositional phrases.
--Worked more on ECE611 HW3.  Got results for first half, have second half coded, still need to get results for second half and write report.


17 Sep 14
Goal: Finish modifications to generator/recognizer/parser.
--Finished getting results and started writing report for ECE611 HW3.

18 Sep 14
Goal: Work on defining a state model for the traces, both for sentences with multiple simple prepositions (i.e., 'left-of x then right-of y') and for the more complex new prepositions that have to be defined by more than one state (i.e., 'towards z' or 'around w').
--Finished ECE611 HW3.
--No new ECE611 homework was assigned this week, so I should have more time to work on my research next week than I've had the last 2 weeks.
--Caught up on CS514 HW4

19 Sep 14
Goal: Keep working on state model and adapting score-parse to use the state model.
--Talked with Dan for about an hour about the Viterbi algorithm and how to use it as a state model for my traces.  I think I have a better understanding of now.  Need to think on it some more before I can implement it.
--Modified generator to produce sentences with multiple prepositional phrases.  Currently have it hard-coded to do up to 4 prepositional phrases (connected by 'then') in a sentence.  This expands my sentence space exponentially.  I believe the correct formula for the number of sentences produced is: sum(from i=1 to p) of (nr + n^2s)^i, where p is the max number of prepositional phrases, n is the number of objects, r is the number of one-object prepositions, and s is the number of 2-object prepositions.  For my current setup of r=8, s=1, and n=6, for p=1 I get 84 sentences, for p=2: 7140, for p=3: 599844, and for p=4: 5x10^7 (although this I computed rather than having Scheme generate all these sentences).  Still need to modify the recognizer and parser to deal with this new structure.
--Will be spending some extra time on this over the weekend since Kara and Emma are going up to WI to go to a craft fair, and I think craft fairs are about as exciting as root canals.

22 Sep 14
Goal: Finish modifications to recognizer & parser.  Keep up to date with CS514 homework.
--Finished modifying recognizer and parser to deal with up to 4 prepositional phrases.  It appears to be working properly.
--Finished the 4 CS514 HW problems assigned so far.

23 Sep 14
Goal: Keep working on state model for simple (i.e., single-state) prepositions.
--Thinking about not using a state model and instead treating the trace as a signal, with the prepositions being functions of that signal.
--Got HW4 in ECE661, due next Tuesday.
--Got Dan and Haonan up to speed with what I've done so far.  Set up shared copies of my work in ~darpa-collaboration/rover (most work is in toollib-analysis.sc).

24 Sep 14
Goal: Finish state model for simple prepositions.  Start adapting state model to use multiple states in a single sentence--not sure which I should start with: sentences with multiple prepositional phrases using simple prepositions or single prepositional phrases using complex (multi-state) prepositions.  Keep up to date with CS514 homework.
--Good couple of hours talking over grammar and meanings of prepositions with Dan and Haonan.  I think we have a solid grammar established--I will work on getting the new grammar coded up in Scheme tomorrow.

25 Sep 14
Goal: Continue working on multiple-state model.


26 Sep 14
Goal: Continue working on multiple-state model. Keep up to date with CS514 homework.


15 Oct 14
Goal: Start working on getting robot to drive automatically
--Started working on porting Dan's log_to_track code to the rover in order to do positions in real time, on the rover.

16 Oct 14
--Fixed original log_to_track.cpp to remove factor for averaging left/right clicks from encoder (encoders changed to report separate click numbers).

17 Oct 14
--Added buttons for 'Start The Force' 'Stop The Force' and 'EMERGENCY STOP' to driver-gui

20 Oct 14
--Starting to work on replacing old gamepad command infrastructure with infrastructure that will send a list of (x,y) points instead.  Thinking that on the seykhl side I need to replace or augment the toollib-gamepad functions to stop sending gamepad commands and instead send the traces over the same port.
--Moved the (gamepad-init) and (gamepad-shutdown) calls in driver-gui.sc into the Start Emperor and Stop Emperor buttons so that gamepad is completely disabled when using The Force.  Need to put a function (maybe in toollib-gamepad) that can be called from the Start The Force button that opens up the command port and gets ready to send the trace.

21 Oct 14
--created trace_init, trace_send, trace_shutdown in toollib-gamepad to open socket, send text buffer, and close socket.  Initial tests working--can send text from text box at bottom of driver window to rover.

24 Oct 14
--added 'Stop The Force' calls to 'EMERGENCY STOP' button in driver-gui

27 Oct 14
--Finished ECE661 HW6

28 Oct 14
--Caught up on CS514 HW10 problems assigned so far
--ECE661 HW7 assigned--due Tuesday 4 November
--Talked with Dan a bit about how to calibrate the Kalman filter.  It seems to be relatively straightforward.  We will rotate the robot in place X times and see what the delta is between X and the theta coming out of the KF.  Will use that to adjust the robot width parameter in the KF until X and theta match.  I will have to restructure the-force on the rover to take this width parameter as an argument, but that shouldn't be hard.
--I wonder if this might be a good time to start adding some other input data to the KF, like accel/gyro, motor input, etc.  Might be a better idea to wait until we have the KF working with just the encoder data before messing with anything else.

29 Oct 14
--Went back to first principles on equations of motion for rover.

30 Oct 14
--Changed Odometer.ino to report just ticks instead of cm.

***REMOVE meters/tick from Odometer code and into KF***
***Have odometer/sensor code output current motor command for each motor***

**Start figuring out how to get robot to drive track automatically--want to publish with Dan & Haonan's stuff by winter break**


**AFTER AUTODRIVING DONE: go to MSEE atrium; use 3-5 floorplans; manually drive 1 trace on each floorplan; take points generated from trace and turn them into an automatic route (may need to downsample somehow, since points will be at 50Hz); drive automatic route and record trace; measure chamfer distance (squared chamfer distance) to compare how automatic points match manual points

**thought-->do I need to put something into the log files to differentiate between manual and automatic driving?

******NOVEL CONTRIBUTIONS (NEED 5)*****
1. Formulation of a grammar that completely disambiguates robot motion in a given environment.


****DISREGARD STATE MODEL***
**multipoint derivatives
**look at how path moves through area of interest
**define sentence structure recursively (infinite sentence space)
**towards--look for decreasing distance b/w robot and obj, and look at angle from robot to obj vs heading of robot
***START ON EXTENDING SENTENCES TO MORE THAN ONE PREPOSITIONAL PHRASE***


 OPEN THESE BUFFERS
.   temp-grp.sc           6368  Scheme		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/temp-grp.sc
  * today.text          105364  Text		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/today.text
  * *scheme*             14443  Inferior Scheme:
    toollib-analysis.sc  15442  Scheme		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/toollib-analysis.sc
  * *shell*<2>            7001  Shell:run	  ~/vader-rover/
  * *shell*            3891707  Shell:run	  /amd/upplysingaoflun/root/aux/home/sbroniko/Dropbox/grad school stuff/Purdue/2014-2015-1-fall/ECE661/hw3/




       


***********************TO DO*******************************
**Keep an eye on Journal of Intelligent and Robotic Systems (JINT) http://www.springer.com/engineering/robotics/journal/10846  **when are its deadlines??

3 goals from Jeff 4Sep14
1. Expand lexicon--more prepositions/objects, as well as longer sentences (multiple prepositional phrases).
2. Beam search (CVPR2014E Siddharth paper, sentence-generation.sc--generate-best-sentence) for track-to-sentence
3. AD on cubic spline waypoints for sentence-to-track

**look at cvpr2014e paper from Andrei and Siddharth

***ON NEXT DATA COLLECTION, MEASURE GROUND-TRUTH OF ENDPOINTS!!!!

*ONCE first data analysis is finished
 --Change odometers back to individual ticks/cm
 --Calculate mean & std. dev. for IMU data output based on imu log files in 2014-07-31-22:10:12 and 2014-08-01-14:22:47 to figure out what the output looks like while robot is stationary on floor


***run AHRS_test with rover on desk and motors running. --> still off quite a bit, 180 turn looks ok(ish), but 90 turn does not-->checked on the speakers in my notes and found that the speakers were installed prior to the last calibration, so that shouldn't be the problem-->is it just this building?

***NEW MOUNT FOR IMU.  Look into 3D printing something out of plastic. PROF CHAPPEL in MSEE

***any value in trying to sync clocks on IMU and Teensy to Gumstix system clock?
***any value in converting GPS time stamp to Unix time?

--Starting to think about the design of the experiment.  Need to come up with the following:
  -- Robot range of ~30' x 30' (inside Armory--should be no problem)
  -- ~5-8 obstacles to use in the range (some may be repeated)
  -- ~5 different arrangements for obstacles within range (do we want to use completely different positions for the obstacles, or have set obstacle positions and just rearrange which obstacle is at which position?)
  -- a context-free grammar for the sentences that the robot will use consisting of:
     -- 1 subject noun: robot
     -- 1 verb: go/went or drive/drove (does it make a difference?)
     -- Prepositions (how many?)
     -- 5-8 object nouns (the obstacles)
  -- From the CFG, generate ~50 sentences that describe robot motion
     -- ~half will be simple (single preposition/single object)
     -- ~half will be complex (multiple prepositions/multiple objects)
  -- Arrange the sentences and obstacle arrangements so that each sentence is tested 10 times each in two different arrangements (20 tests per sentence, 1000 tests total).

****Mini-dataset before big experiment
--Taken in MSEE Atrium.
--5 sentences, with a single preposition each (get prepositions from Jeff's January NSF proposal)
--1 or 2 obstacles (use what is in the Atrium already).
--2 runs per sentence
--Use simple model from proposal to figure out if we can reliably map traces to sentences and sentences to traces.

**THOUGHTS FOR AFTER PAPERS ARE DONE**
--Can we integrate Ax to help with odometry to figure out distance covered?  Ax is noisy, but we might be able to somehow offset it (a -1 offset had pretty good results on data from 2014-07-24-18:16:58) to get integrated speed to start and end at 0.





**IMU dev/testing
  -have IMU output raw (calibrated?) sensor data
    --scrap DCM section (how to bypass??)
  -output raw sensor data through Gumstix to seykhl with timestamps (separate text file??)
    --collect ~10 minutes worth of data of driving around a known path (rectangle around EE313)
  -develop algorithm on seykhl to take raw sensor data and convert to a trace (format something like timestamp:x:y:heading:??)
  -have some small throw-away code on seykhl (scheme or matlab) that reads in trace data and plots it to compare against known path

**HOW can I take acceleration data from IMU and integrate it to get velocity and position???

**I can measure wheel velocity directly using the encoders--how does this help?

--Time of day clock on IMU--sync it to Gumstix clock--use it to timestamp data from IMU

***LOOK AT CALLING TOOLLIB-GAMEPAD FUNCTIONS FROM SCHEME FOR BUTTONS (START/STOP CAMERAS, MOTORS, ETC...*****

--LOOK AT INTERFACE TO TEENSY BOARD.  Specifically how to poll it for data.  Sending a request to it over serial interface might be too slow-->can I use a GPIO pin on the Gumstix to send an interrupt to the Teensy that will cause it to send its counts/directions over serial to Gumstix and then reset counters?   
--SHUTDOWN switch/button for gumstix to ensure clean shutdown before power off


--When/where to log????
--Will changing front cam to black & white give sharper picture and/or lower CPU usage?


Critical tasks
--------------
-front camera video-->COMPLETE
-fisheye camera video-->COMPLETE
-game controller to control wheels-->COMPLETE
  --pan-tilt commands-->COMPLETE
  --wheel commands-->COMPLETE
-bump sensors-->COMPLETE
-crossing bump sensors-->COMPLETE
-shaft encoders-->COMPLETE, giving consistent & reliable readings
-IMU-->working, but not consistently enough to use with Kalman filter that produces tracks
  --logging data back to imu-log.txt on seykhl (actually file is for IMU/ENC and GPS)
  --have output of accelerometer sending data in cm/s^2 based on 1g reference--seem to have noticed a slight DC shift in Ax data
  --magnetometer output in degrees (the default).  Magnetic interference seems to be plaguing the magnetometer (and thus the YPR from the DCM algorithm)--going to try driving in a less-magnetic environment
  --gyros output in deg/s--noticing output that is a bit wonky (hitting max of 2000deg/s when turning--no way the robot can actually turn that quickly)
-GPS-->COMPLETE, sending parsed sentences to log on seykhl

Non-critical tasks
------------------
-ultrasonic sensor-->need to remount, reconnect, and do software interface
-video feed to commander-->first draft COMPLETE, may need future enhancement
-bidirectional speech between driver and rover-->hardware mounted and connected, need to do software
  --speakers and microphone mounted on rover, audio connections connected to Gumstix, USB socket broken out from the 5V DC-DC converter to power speakers.
-bidirectional speech between commander and driver-->not started, hardware on hand
-touchscreen-->mounted and able to connect, need to work on connection to OS
-4G-->COMPLETE


Old buffers
----------------
    matrix-scores-using: 12605  Text		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/matrix-scores-using-distance-factor-11sep14.txt
    today.text            9617  Text		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/today.text
    toollib-rover-cpp.c: 18616  C++/l		  ~/darpa-collaboration/ideas/toollib-rover-cpp.cpp
  * *scheme*           9167396  Inferior Scheme:
    toollib-image-proc: 125308  Scheme		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/ideas/toollib-image-processing.sc
    toollib-rover-cpp.h   4407  C++/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/toollib-rover-cpp.h
 %  *Man fcntl*          34094  Man
    simple-gui.sc         5609  Scheme		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/simple-gui.sc
    toollib-rover.sc       864  Scheme		  ~/vader-rover/toollib-rover.sc
    toollib-image-proce: 97076  Scheme		  /amd/upplysingaoflun/root/aux/home/sbroniko/imitate/tool/toollib-image-processing.sc
    arm-servoing-gui.s: 225677  Scheme		  /amd/upplysingaoflun/root/aux/home/sbroniko/imitate/tool/arm-servoing-gui.sc
    vladlib-sc.sc         3172  Scheme		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/george/vlad/vladlib-sc.sc
    vlad.sc              12997  Scheme		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/george/vlad/vlad.sc
    vladlib-cpp.cpp       3000  C++/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/george/vlad/vladlib-cpp.cpp
    vladlib-c.h          11671  C++/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/george/vlad/vladlib-c.h
    vladlib-c.c          90308  C/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/george/vlad/vladlib-c.c
    idealib-c.c          39638  C/l		  ~/darpa-collaboration/ideas/idealib-c.c
    georgelib-c.c       159141  C/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/george/source/georgelib-c.c
    george.sc            22480  Scheme		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/george/source/george.sc
    georgelib-sc.sc      95501  Scheme		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/george/source/georgelib-sc.sc
    point-grey.c         13455  C/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/point-grey/point-grey.c
    point-grey.h          3067  C++/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/point-grey/point-grey.h
    toollib-camera.sc    20563  Scheme		  /amd/upplysingaoflun/root/aux/home/sbroniko/imitate/tool/toollib-camera.sc
    toollib-c.c          21830  C/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/imitate/tool/toollib-c.c
    toollib-farneback-c.: 7956  C/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/ideas/toollib-farneback-c.c
 %  Imlib2.h             25394  C++/l		  /usr/include/Imlib2.h
    point-grey-cpp.cpp     780  C++/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/point-grey/point-grey-cpp.cpp
    camera-server.cpp    10455  C++/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/camera-server.cpp
    makefile|ideas       14766  GNUmakefile	  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/ideas/makefile
    ptgrey-guilib-c.h     4030  C++/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/imitate/ptgrey-gui/source/ptgrey-guilib-c.h
    env-vars.sh            608  Shell-script[bas  ~/darpa-collaboration/bin/env-vars.sh
    darpa-wrap             371  Shell-script[bas  ~/darpa-collaboration/bin/darpa-wrap
    Makefile|vader-rover   966  GNUmakefile	  ~/vader-rover/Makefile
    .bashrc               4944  Shell-script[bas  ~/.bashrc
    ptgrey-guilib-c.c    17181  C/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/imitate/ptgrey-gui/source/ptgrey-guilib-c.c
    select-restart.c       876  C/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/select-restart.c
    rover-server.c        2657  C/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/rover-server.c
    open-files-7-march.t: 2091  Text		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/open-files-7-march.txt
    makefile|source      11614  GNUmakefile	  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/george/source/makefile
    camera-server-daemon   813  Shell-script[bas  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/camera-server-daemon
    idealib-cpp.cpp       2862  C++/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/ideas/idealib-cpp.cpp
 %  toollib-image-proc: 124889  Scheme		  /amd/upplysingaoflun/root/aux/home/dpbarret/darpa-collaboration/ideas/toollib-image-processing.sc
 %  toollib-hog-hmm-c.c  16888  C/l		  /amd/upplysingaoflun/root/aux/home/dpbarret/darpa-collaboration/ideas/toollib-hog-hmm-c.c
 %  toollib-hog-hmm.sc  196853  Scheme		  /amd/upplysingaoflun/root/aux/home/dpbarret/darpa-collaboration/ideas/toollib-hog-hmm.sc
    georgelib-c.h        28129  C++/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/george/source/georgelib-c.h
    georgelib-cpp.cpp    14657  C++/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/george/source/georgelib-cpp.cpp
    toollib-hack-track-: 25620  C/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/ideas/toollib-hack-track-c.c
    toollib-hack-track-c: 9555  C++/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/ideas/toollib-hack-track-c.h
    toollib-hack-track.: 14154  Scheme		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/ideas/toollib-hack-track.sc
    toollib-hack-track-d: 4820  Scheme		  /amd/upplysingaoflun/root/aux/home/sbroniko/darpa-collaboration/ideas/toollib-hack-track-drawable.sc
    SaveImageToAviEx.cpp  8140  C++/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/pgr-src/SaveImageToAviEx/SaveImageToAviEx.cpp
    Makefile|CustomImageE: 700  GNUmakefile	  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/CustomImageEx/Makefile
    CustomImageEx.cpp    31206  C++/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/CustomImageEx/CustomImageEx.cpp
    build-point-grey-2.5.: 729  Shell-script[bas  ~/darpa-collaboration/bin/build-point-grey-2.5.sh
    ptgrey-gui.sc         7541  Scheme		  /amd/upplysingaoflun/root/aux/home/sbroniko/imitate/ptgrey-gui/source/ptgrey-gui.sc
    open_files_4feb.txt   1886  Text		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/open_files_4feb.txt
    server.c              1583  C/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/server.c
    server2.c             2225  C/l		  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/server2.c
    server                 380  Shell-script[bas  /amd/upplysingaoflun/root/aux/home/sbroniko/vader-rover/server
